# 데이터베이스 관리 스크립트

## 권한 설정
```
-- 접속한 현재 사용자 권한 조회
SELECT * FROM SESSION_PRIVS ORDER BY 1;

-- 권한 설정
GRANT CREATE SESSION TO ora_user2;
GRANT CREATE TABLE TO ora_user2;
GRANT CREATE SEQUENCE TO ora_user2;
GRANT SELECT ANY TABLE TO ora_user2;
GRANT CREATE SYNONYM TO ora_user2;
GRANT CREATE PUBLIC SYNONYM TO ora_user2;
GRANT SELECT ANY DICTIONARY TO ora_user2;
GRANT SELECT_CATALOG_ROLE TO ora_user2;
GRANT CREATE PROCEDURE TO ora_user2;
```

## 다른 스키마의 테이블 복사
```sql
CREATE OR REPLACE PROCEDURE ORA_USER2.COPY_TABLE (
	P_OWNER VARCHAR2, P_TABLE_NAME VARCHAR2
)
AUTHID CURRENT_USER
IS
	V_DDL CLOB;
	V_INS_QRY CLOB;
BEGIN
	SELECT DBMS_METADATA.GET_DDL('TABLE', UPPER(P_TABLE_NAME), UPPER(P_OWNER))
	INTO V_DDL
	FROM DUAL;

	V_DDL := REPLACE(V_DDL, P_OWNER, 'ORA_USER2');

	DBMS_OUTPUT.PUT_LINE(V_DDL);

	EXECUTE IMMEDIATE V_DDL;

	V_INS_QRY := 'INSERT INTO ' || P_TABLE_NAME || ' SELECT * FROM ' || P_OWNER || '.' || P_TABLE_NAME;

	EXECUTE IMMEDIATE V_INS_QRY;

END COPY_TABLE;
```
